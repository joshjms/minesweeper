(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,a){},8:function(e,t,a){e.exports=a(9)},9:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a(2),r=a(4),s=a(3),l=a(5),o=a(0),u=a.n(o),h=a(7),c=a.n(h),d=(a(18),[1,0,-1,0,1,1,-1,-1]),v=[0,1,0,-1,1,-1,1,-1],g=function(e){function t(){var e,a;Object(n.a)(this,t);for(var i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return(a=Object(r.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).state={height:8,width:8,mines:8},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.height,a=e.width,n=e.mines;return u.a.createElement("div",{className:"game"},u.a.createElement(f,{height:t,width:a,mines:n}))}}]),t}(u.a.Component),p=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(i.a)(t,[{key:"getValue",value:function(){var e=this.props.value;return e.isRevealed?e.isMine?"\ud83d\udca3":0===e.neighbour?null:e.neighbour:e.isFlagged?"\ud83d\udea9":null}},{key:"render",value:function(){var e=this.props,t=e.value,a=e.onClick,n=e.cMenu,i="cell"+(t.isRevealed?"":" hidden")+(t.isMine?" is-mine":"")+(t.isFlagged?" is-flag":"");return u.a.createElement("div",{onClick:a,className:i,onContextMenu:n},this.getValue())}}]),t}(u.a.Component),f=function(e){function t(){var e,a;Object(n.a)(this,t);for(var i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return(a=Object(r.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).state={boardData:a.initBoardData(a.props.height,a.props.width,a.props.mines),mineCount:a.props.mines,gameStatus:"Ongoing"},a}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return u.a.createElement("div",{className:"board"},u.a.createElement("div",{className:"game-info"},u.a.createElement("span",{className:"info"},u.a.createElement("h3",null," ",this.state.gameStatus," "),u.a.createElement("h4",null," Mines left: ",this.state.mineCount," ")),u.a.createElement("br",null),u.a.createElement("span",{className:"info"},this.gameStatus)),this.renderBoard(this.state.boardData))}},{key:"renderBoard",value:function(e){var t=this;return e.map(function(e){var a=e.map(function(a){return u.a.createElement("div",{key:a.x*e.length+a.y,className:"cellContainer"},u.a.createElement(p,{value:a,onClick:function(){t.revealCell(a.x,a.y)},cMenu:function(e){t.flagCell(e,a.x,a.y)}}),e[e.length-1]===a?u.a.createElement("div",{className:"clear"}," "):"")});return u.a.createElement("div",{style:{display:"flex"}},a)})}},{key:"initBoardData",value:function(e,t,a){var n=this.createEmptyArray(e,t);return n=this.plantMines(n,e,t,a),n=this.getNeighbours(n,e,t)}},{key:"createEmptyArray",value:function(e,t){for(var a=[],n=0;n<e;n++){a.push([]);for(var i=0;i<t;i++)a[n][i]={x:n,y:i,isMine:!1,neighbour:0,isRevealed:!1,isEmpty:!1,isFlagged:!1}}return a}},{key:"plantMines",value:function(e,t,a,n){for(var i,r,s=0;s<n;)i=Math.floor(Math.random()*t),r=Math.floor(Math.random()*a),e[i][r].isMine||(e[i][r].isMine=!0,s++);return e}},{key:"getNeighbours",value:function(e,t,a){for(var n=0;n<t;n++)for(var i=0;i<a;i++)if(!e[n][i].isMine)for(var r=void 0,s=0,l=0;l<8;l++)s=i+v[l],0<=(r=n+d[l])&&r<t&&0<=s&&s<a&&e[r][s].isMine&&e[n][i].neighbour++;return e}},{key:"revealCell",value:function(e,t){if(e<0||e>=this.props.height||t<0||t>=this.props.width)return null;if(this.state.boardData[e][t].isRevealed||this.state.boardData[e][t].isFlagged)return null;if(this.state.boardData[e][t].isMine)return this.setState({gameStatus:"You Lose \ud83d\ude0b"}),this.revealBoard(),alert("You Lose"),null;var a=this.state.boardData;if(a[e][t].isFlagged=!1,a[e][t].isRevealed=!0,0===a[e][t].neighbour)for(var n=0;n<8;n++)this.revealCell(e+d[n],t+v[n]);if(this.checkWin(a))return this.setState({mineCount:0,gameStatus:"You Win \ud83e\udd73"}),this.revealBoard(),alert("You Win"),null;this.setState({boardData:a,mineCount:this.props.mines-this.getFlags(a)})}},{key:"flagCell",value:function(e,t,a){if(e.preventDefault(),t<0||t>=this.props.height||a<0||a>=this.props.width)return null;if(this.state.boardData[t][a].isRevealed)return null;var n=this.state.boardData;n[t][a].isFlagged=!n[t][a].isFlagged,this.setState({boardData:n,mineCount:this.props.mines-this.getFlags(n)})}},{key:"revealBoard",value:function(){for(var e=0;e<this.props.height;e++)for(var t=0;t<this.props.width;t++){var a=this.state.boardData;a[e][t].isFlagged=!1,a[e][t].isRevealed=!0,this.setState({boardData:a,mineCount:this.props.mines-this.getFlags(a)})}}},{key:"checkWin",value:function(e){for(var t=0;t<this.props.height;t++)for(var a=0;a<this.props.width;a++)if(!e[t][a].isMine&&(!e[t][a].isRevealed||e[t][a].isFlagged))return!1;return!0}},{key:"getFlags",value:function(e){for(var t=0,a=0;a<this.props.height;a++)for(var n=0;n<this.props.width;n++)e[a][n].isFlagged&&t++;return t}}]),t}(u.a.Component);c.a.createRoot(document.getElementById("root")).render(u.a.createElement(g,null))}},[[8,2,1]]]);
//# sourceMappingURL=main.16935fc2.chunk.js.map