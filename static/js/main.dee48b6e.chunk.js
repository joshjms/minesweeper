(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,a){},8:function(e,t,a){e.exports=a(9)},9:function(e,t,a){"use strict";a.r(t);var i=a(1),n=a(2),r=a(4),s=a(3),l=a(5),o=a(0),u=a.n(o),h=a(7),c=a.n(h),d=(a(18),[1,0,-1,0,1,1,-1,-1]),v=[0,1,0,-1,1,-1,1,-1],g=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(r.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).state={height:8,width:8,mines:8},a}return Object(l.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this.state,t=e.height,a=e.width,i=e.mines;return u.a.createElement("div",{className:"game"},u.a.createElement(f,{height:t,width:a,mines:i}))}}]),t}(u.a.Component),p=function(e){function t(){return Object(i.a)(this,t),Object(r.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(n.a)(t,[{key:"getValue",value:function(){var e=this.props.value;return e.isRevealed?e.isMine?"\ud83d\udca3":0===e.neighbour?null:e.neighbour:e.isFlagged?"\ud83d\udea9":null}},{key:"render",value:function(){var e=this.props,t=e.value,a=e.onClick,i=e.cMenu,n="cell"+(t.isRevealed?"":" hidden")+(t.isMine?" is-mine":"")+(t.isFlagged?" is-flag":"");return u.a.createElement("div",{onClick:a,className:n,onContextMenu:i},this.getValue())}}]),t}(u.a.Component),f=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(r.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(l)))).state={boardData:a.initBoardData(a.props.height,a.props.width,a.props.mines),mineCount:a.props.mines,gameStatus:"Ongoing"},a}return Object(l.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){return u.a.createElement("div",{className:"board"},u.a.createElement("div",{className:"game-info"},u.a.createElement("span",{className:"info"},u.a.createElement("h3",null," ",this.state.gameStatus," "),u.a.createElement("h4",null," Mines left: ",this.state.mineCount," ")),u.a.createElement("br",null),u.a.createElement("span",{className:"info"},this.gameStatus)),this.renderBoard(this.state.boardData))}},{key:"renderBoard",value:function(e){var t=this;return e.map(function(e){var a=e.map(function(a){return u.a.createElement("div",{key:a.x*e.length+a.y,className:"cellContainer"},u.a.createElement(p,{value:a,onClick:function(){t.revealCell(a.x,a.y)},cMenu:function(e){t.flagCell(e,a.x,a.y)}}),e[e.length-1]===a?u.a.createElement("div",{className:"clear"}," "):"")});return u.a.createElement("div",{style:{display:"flex"}},a)})}},{key:"initBoardData",value:function(e,t,a){var i=this.createEmptyArray(e,t);return i=this.plantMines(i,e,t,a),i=this.getNeighbours(i,e,t)}},{key:"createEmptyArray",value:function(e,t){for(var a=[],i=0;i<e;i++){a.push([]);for(var n=0;n<t;n++)a[i][n]={x:i,y:n,isMine:!1,neighbour:0,isRevealed:!1,isEmpty:!1,isFlagged:!1}}return a}},{key:"plantMines",value:function(e,t,a,i){for(var n,r,s=0;s<i;)n=Math.floor(Math.random()*t),r=Math.floor(Math.random()*a),e[n][r].isMine||(e[n][r].isMine=!0,s++);return e}},{key:"getNeighbours",value:function(e,t,a){for(var i=0;i<t;i++)for(var n=0;n<a;n++)if(!e[i][n].isMine)for(var r=void 0,s=0,l=0;l<8;l++)s=n+v[l],0<=(r=i+d[l])&&r<t&&0<=s&&s<a&&e[r][s].isMine&&e[i][n].neighbour++;return e}},{key:"revealCell",value:function(e,t){if(e<0||e>=this.props.height||t<0||t>=this.props.width)return null;if(this.state.boardData[e][t].isRevealed||this.state.boardData[e][t].isFlagged)return null;if(this.state.boardData[e][t].isMine)return this.setState({gameStatus:"You Lose"}),this.revealBoard(),alert("You Lose"),null;var a=this.state.boardData;if(a[e][t].isFlagged=!1,a[e][t].isRevealed=!0,0===a[e][t].neighbour)for(var i=0;i<8;i++)this.revealCell(e+d[i],t+v[i]);this.checkWin(a)&&(this.setState({mineCount:0,gameStatus:"You Win"}),this.revealBoard(),alert("You Win")),this.setState({boardData:a,mineCount:this.props.mines-this.getFlags(a)})}},{key:"flagCell",value:function(e,t,a){if(e.preventDefault(),t<0||t>=this.props.height||a<0||a>=this.props.width)return null;if(this.state.boardData[t][a].isRevealed)return null;var i=this.state.boardData;i[t][a].isFlagged=!i[t][a].isFlagged,this.setState({boardData:i,mineCount:this.props.mines-this.getFlags(i)})}},{key:"revealBoard",value:function(){for(var e=0;e<this.props.height;e++)for(var t=0;t<this.props.width;t++){var a=this.state.boardData;a[e][t].isFlagged=!1,a[e][t].isRevealed=!0,this.setState({boardData:a,mineCount:this.props.mines-this.getFlags(a)})}}},{key:"checkWin",value:function(e){for(var t=0;t<this.props.height;t++)for(var a=0;a<this.props.width;a++)if(!e[t][a].isMine&&(!e[t][a].isRevealed||e[t][a].isFlagged))return!1;return!0}},{key:"getFlags",value:function(e){for(var t=0,a=0;a<this.props.height;a++)for(var i=0;i<this.props.width;i++)e[a][i].isFlagged&&t++;return t}}]),t}(u.a.Component);c.a.createRoot(document.getElementById("root")).render(u.a.createElement(g,null))}},[[8,2,1]]]);
//# sourceMappingURL=main.dee48b6e.chunk.js.map